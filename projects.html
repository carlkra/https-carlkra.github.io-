<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - Carl Krause</title>
    
    <!-- Google Consent Mode - Default State -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        
        // Set default consent to 'denied' as a placeholder
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'analytics_storage': 'denied'
        });
    </script>
    
    <!-- Klaro! Cookie Consent Configuration -->
    <script>
        var klaroConfig = {
            elementID: 'klaro',
            
            // Styling to match your black & white theme
            styling: {
                theme: ['light'],
            },
            
            // Don't show the "Learn more" link (you have a privacy page)
            mustConsent: false,
            acceptAll: true,
            hideDeclineAll: false,
            hideLearnMore: false,
            
            // Translations
            translations: {
                zz: {
                    privacyPolicyUrl: '/privacy.html',
                },
                en: {
                    consentModal: {
                        title: 'Cookie Preferences',
                        description: 'This website uses analytics to understand how visitors interact with the site. You can choose which services to enable.',
                    },
                    googleAnalytics: {
                        description: 'Google Analytics 4 helps us understand site usage and improve your experience.',
                    },
                    purposes: {
                        analytics: 'Analytics',
                    },
                },
            },
            
            // Services configuration
            services: [
                {
                    name: 'googleAnalytics',
                    title: 'Google Analytics 4',
                    purposes: ['analytics'],
                    required: false,
                    optOut: false,
                    default: false,
                    
                    // Initialize consent mode (runs once on page load)
                    onInit: function(opts) {
                        window.dataLayer = window.dataLayer || [];
                        window.gtag = function(){dataLayer.push(arguments);}
                        gtag('consent', 'default', {
                            'ad_storage': 'denied',
                            'analytics_storage': 'denied',
                            'ad_user_data': 'denied',
                            'ad_personalization': 'denied'
                        });
                    },
                    
                    // When user accepts
                    onAccept: function(opts) {
                        // Update Google Consent Mode
                        gtag('consent', 'update', {
                            'analytics_storage': 'granted'
                        });
                        // Push custom event for GTM to listen for
                        dataLayer.push({'event': 'klaro-googleAnalytics-accepted'});
                    },
                    
                    // When user declines
                    onDecline: function(opts) {
                        // Keep consent denied
                        gtag('consent', 'update', {
                            'analytics_storage': 'denied'
                        });
                    },
                },
            ],
        };
    </script>
    
    <!-- Klaro! Cookie Consent Library -->
    <script defer type="application/javascript" 
            src="https://cdn.kiprotect.com/klaro/v0.7/klaro.js"></script>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-K4TXCZ8F');</script>
    <!-- End Google Tag Manager -->
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #000;
            background-color: #fff;
        }
        
        nav {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #000;
            position: sticky;
            top: 0;
            background-color: #fff;
            z-index: 100;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
        }
        
        nav a {
            color: #000;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.2s;
        }
        
        nav a:hover {
            opacity: 0.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 3rem;
            font-weight: 700;
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .project-card {
            border: 1px solid #000;
            padding: 2rem;
            transition: transform 0.2s;
        }
        
        .project-card:hover {
            transform: translateY(-4px);
        }
        
        .project-card h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .project-card p {
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }
        
        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .tag {
            padding: 0.3rem 0.8rem;
            background-color: #000;
            color: #fff;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        footer {
            padding: 2rem;
            text-align: center;
            border-top: 1px solid #000;
            margin-top: 4rem;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            nav ul {
                gap: 1rem;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K4TXCZ8F"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="privacy.html">Privacy</a></li>
        </ul>
    </nav>

    <div class="container">
        <h1>Featured Projects</h1>
        
        <div class="projects-grid">
            <div class="project-card">
                <h2>E-Commerce Tracking Implementation</h2>
                <p>Implemented comprehensive e-commerce tracking using GTM and GA4, enabling detailed purchase funnel analysis and revenue attribution across multiple marketing channels.</p>
                <div class="project-tags">
                    <span class="tag">GTM</span>
                    <span class="tag">GA4</span>
                    <span class="tag">E-commerce</span>
                </div>
            </div>
            
            <div class="project-card">
                <h2>Privacy-First Analytics Migration</h2>
                <p>Led migration from traditional analytics to privacy-focused solution using Plausible, ensuring GDPR compliance while maintaining actionable insights.</p>
                <div class="project-tags">
                    <span class="tag">Plausible</span>
                    <span class="tag">Privacy</span>
                    <span class="tag">GDPR</span>
                </div>
            </div>
            
            <div class="project-card">
                <h2>Custom Event Tracking Framework</h2>
                <p>Designed and implemented a scalable event tracking framework using data layers and custom JavaScript, enabling consistent tracking across complex user journeys.</p>
                <div class="project-tags">
                    <span class="tag">JavaScript</span>
                    <span class="tag">Data Layer</span>
                    <span class="tag">GTM</span>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>ðŸ”’ Privacy-friendly analytics â€¢ No invasive tracking</p>
        <p>&copy; 2024 Carl Krause. All rights reserved. | <a href="privacy.html" style="color: #000; text-decoration: underline;">Privacy & Analytics</a></p>
    </footer>
</body>
</html>
